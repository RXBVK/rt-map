(this["webpackJsonprt-map"]=this["webpackJsonprt-map"]||[]).push([[0],{161:function(e,t,n){},162:function(e,t,n){},164:function(e,t,n){},383:function(e,t,n){},384:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(59),o=n.n(s),r=(n(161),n(24)),i=(n(162),n(1));function d(e){var t=function(t){var n=new FileReader;n.addEventListener("load",(function(){var t="".concat(String.fromCharCode(13)).concat(String.fromCharCode(10)),a=n.result.split(t),c=a.map((function(e){return e.split(",")}));console.log(a),console.log(c),e.setUploadedRows(c)})),n.readAsText(t)};return Object(i.jsxs)("div",{className:"csv-uploader__container",children:[Object(i.jsx)("div",{className:"csv-uploader__dropzone",onDrop:function(e){return function(e){e.preventDefault(),e.stopPropagation(),t(e.dataTransfer.files[0])}(e)},onDragOver:function(e){e.preventDefault()},children:Object(i.jsx)("p",{children:"Drag and drop the file here"})}),Object(i.jsx)("h1",{className:"csv-uploader__or",children:"OR"}),Object(i.jsx)("label",{htmlFor:"csv-uploader__input",className:"csv-uploader__label button--primary",children:"Upload from device"}),Object(i.jsx)("input",{type:"file",id:"csv-uploader__input",accept:".csv",onChange:function(e){return t(e.target.files[0])}})]})}var l=n(20),j=n(156);n(164);function u(e){var t=Object(a.useState)([]),n=Object(r.a)(t,2),c=n[0],s=n[1];return Object(i.jsx)("div",{className:"columns-picker__container",children:5===c.length?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{children:"Columns defined, let's go to the map"}),Object(i.jsx)("button",{onClick:function(){return function(){var t=e.uploadedRows.map((function(e){var t;return t={},Object(l.a)(t,c[0],e[0]),Object(l.a)(t,c[1],e[1]),Object(l.a)(t,c[2],e[2]),Object(l.a)(t,c[3],e[3]),Object(l.a)(t,c[4],e[4]),t}));console.log(t),e.setDataFromRows(t)}()},className:"columns-picker__ready-btn button--primary",children:"Ready!"})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("h1",{children:"Set column order"}),Object(i.jsxs)("h2",{children:["Click on the name of the ",["first","second","third","forth","fifth"][c.length]," column"]}),Object(i.jsx)("div",{className:"columns-picker__buttons",children:["state","city","zip","address","category"].map((function(e){return Object(i.jsx)("button",{value:e,onClick:function(e){return t=e.target,s([].concat(Object(j.a)(c),[t.value])),t.style.opacity="0",void(t.style.pointerEvents="none");var t},children:e.toUpperCase()},e)}))})]})})}var h=n(39);function p(e){var t=e.dataWithCoords,n=e.counter;return Object(i.jsxs)("div",{className:"map__container",style:{width:"100%",height:"100vh"},children:[Object(i.jsx)(b,{googleMapURL:"https://maps.googleapis.com/maps/api/js?v=3.exp&libraries=geometry,drawing,places&key=".concat("AIzaSyDD6d00sVeN1ct2j5TcV09M-R0XyawtaOY"),loadingElement:Object(i.jsx)("div",{style:{height:"100%"}}),containerElement:Object(i.jsx)("div",{style:{height:"80%"}}),mapElement:Object(i.jsx)("div",{style:{height:"100%"}}),dataWithCoords:t}),Object(i.jsx)("h4",{children:n>0?"".concat(n," of your address(es) cannot be located, check your .csv file"):""})]})}var b=Object(h.withScriptjs)(Object(h.withGoogleMap)((function(e){var t=e.dataWithCoords;return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(h.GoogleMap,{defaultZoom:15,defaultCenter:{lat:51.113842,lng:17.0064022},children:t.map((function(e){return Object(i.jsx)(h.Marker,{position:e.position},e.category)}))})})}))),m=n(87),O=n.n(m),f=n(88),g=n(154),v=n(155),x=n.n(v);function y(e){return Object(a.useEffect)((function(){(function(){var t=Object(g.a)(O.a.mark((function t(){var n,a,c,s,o;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],a=0;case 2:if(!(a<e.dataFromRows.length)){t.next=11;break}return c=e.dataFromRows[a],t.next=6,x.a.get("https://maps.googleapis.com/maps/api/geocode/json",{params:{address:"".concat(c.address).concat(c.city).concat(c.state).concat(c.zip),key:"AIzaSyDD6d00sVeN1ct2j5TcV09M-R0XyawtaOY"}});case 6:0==(s=t.sent).data.results.length?console.log("Wrong address"):(o=s.data.results[0].geometry.location,c=Object(f.a)(Object(f.a)({},c),{},{position:o}),n.push(c));case 8:a++,t.next=2;break;case 11:e.setAddressesFetched(!0),e.setDataWithCoords(n);case 13:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]),Object(i.jsxs)("div",{styles:{animation:"fadein 800ms"},children:[Object(i.jsx)("h1",{children:"Let me find those addresses on the map..."}),Object(i.jsx)("h3",{children:"Wait for few seconds"})]})}n(383);var _=function(){var e=Object(a.useState)([]),t=Object(r.a)(e,2),n=t[0],c=t[1],s=Object(a.useState)([]),o=Object(r.a)(s,2),l=o[0],j=o[1],h=Object(a.useState)([]),b=Object(r.a)(h,2),m=b[0],O=b[1],f=Object(a.useState)(!1),g=Object(r.a)(f,2),v=g[0],x=g[1];return v?Object(i.jsx)("div",{className:"main__container",children:Object(i.jsx)(p,{dataWithCoords:m,counter:l.length-m.length})}):l.length>0?Object(i.jsx)("div",{className:"main__container",children:Object(i.jsx)(y,{dataFromRows:l,setDataWithCoords:O,dataWithCoords:m,setAddressesFetched:x})}):n.length>0?Object(i.jsx)("div",{className:"main__container",children:Object(i.jsx)(u,{uploadedRows:n,setDataFromRows:j})}):Object(i.jsx)("div",{className:"main__container",children:Object(i.jsx)(d,{setUploadedRows:c})})},w=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,385)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,s=t.getLCP,o=t.getTTFB;n(e),a(e),c(e),s(e),o(e)}))};o.a.render(Object(i.jsx)(c.a.StrictMode,{children:Object(i.jsx)(_,{})}),document.getElementById("root")),w()}},[[384,1,2]]]);
//# sourceMappingURL=main.57c5642b.chunk.js.map